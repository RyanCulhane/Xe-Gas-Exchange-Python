

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting Started &mdash; Zmap 18.05.04 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="System Structure" href="systemstructure.html" />
    <link rel="prev" title="Review of Gas Exchange Mapping" href="reviewofGXmap.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Zmap
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">List of contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="reviewofGXmap.html">Review of Gas Exchange Mapping</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#boot-ziyi-pc-and-connect-to-clinical-sharefolder">Boot Ziyi-PC and Connect to clinical sharefolder</a></li>
<li class="toctree-l2"><a class="reference internal" href="#process-one-or-multiple-subjects">Process one or multiple subjects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#change-mapping-parameters-such-as-reference-thresholds">Change mapping parameters such as reference thresholds</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="systemstructure.html">System Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="developmentmenu.html">Development Menu</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Zmap</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Getting Started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/gettingstarted.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>A quick introduction on how to use the fundamental functionalities on Ziyi-PC.</p>
<div class="section" id="boot-ziyi-pc-and-connect-to-clinical-sharefolder">
<h2>Boot Ziyi-PC and Connect to clinical sharefolder<a class="headerlink" href="#boot-ziyi-pc-and-connect-to-clinical-sharefolder" title="Permalink to this headline">¶</a></h2>
<p>You are usually lucky enough to skip this step as the PC is always on. But just in case it is not.</p>
<p>Press the power button on the PC machine. If leave it there, the computer shall boot into Ubuntu system by default (There is also a windows co-existing in the PC, which you may not want to use). When the screen lights up, select user <strong>Ziyi</strong>, and type in password which I believe you know.</p>
<p>The system kicks off on the desktop with a menu bar on the left. To connect to the share folder, open up a terminal. You can find the terminal as a black rectange icon from the menu bar on the left. Type in the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">Gas_Exchange</span>
<span class="o">./</span><span class="n">MountDrive</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>The <strong>MountDrive.sh</strong> will connect the sharefolder through ssh. It will typically ask you for 3 password. The first is the root user password which is the same as the lock screen password. The second and third will be the password to connect to the sharefolder (the .sh script uses my account, you can change it to yours so you may connect with your credential).</p>
</div>
<div class="section" id="process-one-or-multiple-subjects">
<h2>Process one or multiple subjects<a class="headerlink" href="#process-one-or-multiple-subjects" title="Permalink to this headline">¶</a></h2>
<p>You can manually run one or multiple subjects with script <strong>GX_Process_batch.py</strong>. The following commands open up the script.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">Gas_Exchange</span>
<span class="n">atom</span> <span class="n">GX_Process_batch</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>In atom, you can modify the script <strong>GX_Process_batch.py</strong> to run one or multiple subjects. Specify the data directory and a list of subject IDs (need to exist in the directory) that you want to process.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_dir</span> <span class="o">=</span> <span class="s1">&#39;/home/ziyiw/Patients/&#39;</span>
<span class="n">Subject_IDs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;002104&#39;</span><span class="p">,</span><span class="s1">&#39;002105&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>When finished, save the file. Go back to the terminal and type the following command to run.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">GX_Process_batch</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
<div class="section" id="change-mapping-parameters-such-as-reference-thresholds">
<h2>Change mapping parameters such as reference thresholds<a class="headerlink" href="#change-mapping-parameters-such-as-reference-thresholds" title="Permalink to this headline">¶</a></h2>
<p>You can manually most of the mapping parameters (including the reference thresholds) in the script <strong>GX_defineColormaps.py</strong>. The following commands open up the script.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">Gas_Exchange</span>
<span class="n">atom</span> <span class="n">GX_defineColormaps</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p><strong>The reference thresholds</strong>, <strong>the montage and histogram plotting parameters</strong> and <strong>the healthy reference values</strong> shown in the report table are recorded in this script. They are imported to the main program in runtime. Specifically, you can change the reference thresholds with the following lines:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mean_vent</span> <span class="o">=</span> <span class="mf">0.5098</span>
<span class="n">std_vent</span> <span class="o">=</span> <span class="mf">0.1899</span>
<span class="n">thre_vent</span> <span class="o">=</span> <span class="p">[</span><span class="n">mean_vent</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">std_vent</span><span class="p">,</span> <span class="n">mean_vent</span><span class="o">-</span><span class="n">std_vent</span><span class="p">,</span> <span class="n">mean_vent</span><span class="p">,</span> <span class="n">mean_vent</span><span class="o">+</span><span class="n">std_vent</span><span class="p">,</span> <span class="n">mean_vent</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">std_vent</span><span class="p">]</span>

<span class="n">mean_bar</span> <span class="o">=</span> <span class="mf">0.4859</span>
<span class="n">std_bar</span> <span class="o">=</span> <span class="mf">0.1484</span>
<span class="n">thre_bar</span> <span class="o">=</span> <span class="p">[</span><span class="n">mean_bar</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">std_bar</span><span class="p">,</span> <span class="n">mean_bar</span><span class="o">-</span><span class="n">std_bar</span><span class="p">,</span> <span class="n">mean_bar</span><span class="p">,</span> <span class="n">mean_bar</span><span class="o">+</span><span class="n">std_bar</span><span class="p">,</span> <span class="n">mean_bar</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">std_bar</span><span class="p">,</span> <span class="n">mean_bar</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">std_bar</span><span class="p">,</span> <span class="n">mean_bar</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">std_bar</span><span class="p">]</span>

<span class="n">mean_rbc</span> <span class="o">=</span> <span class="mf">0.2592</span>
<span class="n">std_rbc</span> <span class="o">=</span> <span class="mf">0.1038</span>
<span class="n">thre_rbc</span> <span class="o">=</span> <span class="p">[</span><span class="n">mean_rbc</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">std_rbc</span><span class="p">,</span> <span class="n">mean_rbc</span><span class="o">-</span><span class="n">std_rbc</span><span class="p">,</span> <span class="n">mean_rbc</span><span class="p">,</span> <span class="n">mean_rbc</span><span class="o">+</span><span class="n">std_rbc</span><span class="p">,</span> <span class="n">mean_rbc</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">std_rbc</span><span class="p">]</span>
</pre></div>
</div>
<p>The <strong>thre_vent, thre_bar, thre_rbc</strong> are the thresholds that are finally used.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="systemstructure.html" class="btn btn-neutral float-right" title="System Structure" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="reviewofGXmap.html" class="btn btn-neutral" title="Review of Gas Exchange Mapping" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Ziyi Wang.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'18.05.04',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>